**已发现的需要深入解决的问题**

```java
==========================》此处整理的回答尽量深，尽量详细。讲出的关键词环环相扣，对讲出的都需要清楚。
==========================》aop、ioc，项目哪些地方用到了aop？对于提到的技术都要结合项目场景进行回答。并且有技巧性的引导面试官往你熟悉的方向问。

//1.谈谈ArrayList和LinkedList的区别？（引出了LinkedList是单链表还是双链表？）
	1
	
//2.说说spring的特性？ ==》回答ioc和aop，aop用到动态代理。==》询问jdk动态代理和cglib动态代理哪个性能会好一点？
	jdk1.8之后jdk动态代理效率好像高一点。
	jdk动态代理和cglib动态代理底层原理？
	1
	
//3.Aspectj?
	不太了解，只知道他是一个AOP的框架，好像功能比springAOP更强大一点，但是目前我们用SpringAop基本够用
	
//4.针对ioc的回答，问：spring创建出来的对象的作用域有哪些？  ====》我们知道spring创建出来的对象是单例的，那么这个单例就有可能产生线程安全问题，那么spring在处理单例的问题上面是怎么解决的？
	spring对象作用域：singlton单例，prototype原型、request.
    首先，因为单例bean时多线程共享一个bean，会存在线程安全问题。
    其次如果线程操作只是对Bean的成员变量进行查询的操作，那么是线程安全的。
    然后我们平常的Controller、Service、Dao等这些Bean大多都是无状态的，至于调用方法里面的变量，每个线程有每个线程自己的工作内存，这是线程安全的。

//5.你们项目有用全局变量吗？平时在Controller类里面会定义一些全局变量吗？
	没有。公用的也就定义在配置文件中。

//6.项目中如何处理接口幂等性问题（场景）？解决方案？
	对于需要做幂等的接口，我们在前端和后端都做了处理。前端是按钮置灰或者页面跳转重定向之类，防止用户多次连续点击；后端我们用了token机制，所有请求都带上token，服务判断这个token是否存在redis中，存在则删除token然后进行业务操作，这样第二次的重复操作就会检查到这个token不在redis中，然后返回重复标记。
	token缺点：每次请求该都要进行获取token请求、判断token是否存在的业务。但是实际重复点击的情况是很少的。	更好的解决方案？ 
	==》唯一主键，但不能是自增的唯一主键，是业务生成的唯一主键。
	==>分布式下的唯一主键。使用redis天然的自增INCR AND GET生成分布式下的唯一主键。
	===》 雪花算法（了解一点）   第一位不使用，默认为0，因为long类型是在符号位的。id整体按照时间趋势递增，唯一性和10位的数据机器位有关，强依赖机器时钟，时钟回拨可能会导致id重复。
		
	

//7.springboot项目里面有一个启动注解叫@springBootApplication，这个注解的运行机制是怎样的？
	@springBootApplication 其实是三个注解的组合，自动配置、@ComponentScan配置类扫描注解、@SpringBootConfiguration。即启动时加载配置文件，最终按照条件进行自动装配。
	
//8.用过springCloud，几大组件基本问题和数据流转过程要都清楚。
	Eureka：注册中心，AP;
	fegin：服务调用；
	Zuul：网关；
	Ribbon：负载均衡；
	Histrix：服务熔断
	

//9.说说类加载机制？ ---》引出说一下违反双亲委派的例子。
	加载 -> 链接(验证、准备、解析) -> 初始化
	类加载器：
	 1）启动类加载器（Bootstrap ClassLoader），c++实现.  加载rt.jar,resourse.jar,被           -Xbootclasspath参数指定的路径中存放的类。
	 2）其他类加载器，java实现
	 	ExtClassLoader：\jre\lib\ext  <JAVA_HOME>jre.lib.ext 
	 	AppClassLoader:加载用户类路径classpath下的所有的类库
	这三个类加载器存在继承关系吗？不是，Ext、App都继承了ClassLoader.
    如何自定义类加载器？ ==》1.继承ClassLoader. 2)覆盖findClass(String bao+leiming)方法或loadClass()方法[这两种的区别?]；       
	ClassLoader中的loadClass()、findClass()、defineClass()区别？   defineClass把字节码->Class
	加载一个类采用Class.forName()和ClassLoader()有什么区别？   ===>初始化区别。
	为什么Tomcat要破坏双亲委派模型？		===》一个Tomcat web容器可能要部署多个应用程序，应用程序之间的Java类库可能要互相隔离(比如可能依赖spring的版本号不同)； 共享jar包，比如lib目录下的。 JSP热加载原理就是启动一个新的类加载器来加载修改后的文件。
	
//10.redis集群怎么维护数据一致性？
	redis集群模式的工作原理能说一下吗？
	在集群模式下，redis的key是如何寻址的？
	分布式寻址算法都有哪些？
	了解一致性hash算法吗？
	如何动态增加和删除一个节点？


//11.redis里面的string有哪些编码方式？


//12.说到redis缓存穿透等，一般都会问到布隆过滤器，布隆过滤器原理你知道吗?


//13.你们项目上是怎么解决kafka消费重复消费、幂等性问题的？


//14.TCP相关的基础问题？ TCP time_wait状态听说过吗？


//15.synchronized用过吗？  ====》引出synchronized底层是怎么实现的？（markWord）


//16.java对象布局有了解过吗？


//17.介绍一下spring，读过源码介绍一下大致流程？（如果回答读过就要回答好，用自己的话说出来。）
	整个主要流程要了解，源码可以说看过某一部分的，针对该部分回答。
//18.说一下spring的事务机制。

//19.什么时候@Transaction失效？

//20.还读过哪些框架源码？介绍一下你熟悉的。
	可以事先准备好回答。
//21.Innodb是如何实现事务的？

//22.说一下深拷贝和浅拷贝？

//23.如果你提交任务时，线程池队列已满，这时会发生什么？

//24.泛型中extends和super的区别？

//25.TCP的三次握手和四次挥手？

//26.画出项目架构图，介绍自己所处的模块？

//27.比较jdk1.7和jdk1.8中synchronized锁的区别？

//28.当你在linux运行一个程序的时候，背后发生了什么？

//29.当你浏览器打开一个页面的时候，它背后发生了什么？

//30.项目用的是https，那么https是如何保证安全传输的？

//31.分布式唯一id一致性的问题。（雪花算法+分布式id）
=====》最后那个视频尽可能的多刷，多理解。https://www.bilibili.com/video/BV1aq4y1N7Fi?p=11



```

========================================jl问题

```java
对jl提问，xiang10个问题。（现在只是比较片面单一的想，后续再想十个，贯穿业务线，连环炮式的提问。）
//1.你说你用到了springSecurity+JWT,讲讲springSecurity和JWT?(springSecurity相关问题)
	1、 首先， 当用户登录时， 前端会把用户输入的用户名、 密码信息传输到后台， 后台用一个类对象将其封装起来，通常使用的是UsernamePasswordAuthenticationToken这个类。
	2、 再来， 到程序负责验证这个类对象。 验证方法是调用Service根据username从数据库中取用户信息到实体类的实例中，比较两者的密码， 如果密码正确就成功登陆， 同时把包含着用户的用户名、 密码、 所具有的权限等信息的类对象放到SecurityContextHolder(安全上下文容器， 类似Session) 中去。
	3、 其次， 在用户访问一个资源的时候， 需要先判断是否是受限资源。 如果是的话还要判断当前是否未登录，没有的话就跳到登录页面。
	4、 最后!如果用户已经登录， 并访问一个受限资源的时候， 程序要根据url去数据库中取出该资源所对应的所有可以访问的角色， 然后拿着当前用户的所有角色一一对比， 判断用户是否可以访问。
	JWT由三部分组成：Header（算法）、Payload（用户信息）、Signature（算法加密后的签证）。
	
//2.mybatis二级缓存知道吗？（mybatis相关问题）
	一级缓存的作用域是同一个sqlSession(同一个事务里),
	二级缓存的作用域是同一个namespace。
	更新操作破坏、
	单表适用多表操作不适用（尽量避免使用二级..）。
	
//3.说说mysql索引优化?分页查询数量特别大怎么办？====>一次优化的经历
	1）建立索引，避免全表扫
	2）应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描；可以在 num 上设置默认值 0,确保表中 num 列没有 null 值，然后这样查询：select id from t where num=0;
	3）应尽量避免在 where 子句中使用!=或<>操作符，否则将引擎放弃使用索引而进行全表扫描。
	4）in和not in要慎用。（可xists代替in）。
	5）组合索引要尽量使关键查询形成索引覆盖。
	
//4.B+树等（mysql常见问题，日志，主从，读写分离）
	矮胖，减少磁盘io次数。
	因为B+树索引的所有数据均存储在叶子节点，而且数据是按照顺序排列。
	主键作为B+树索引的键值而构建的B+树索引，我们称之为聚集索引。（你不建索引musql也会有隐式索引）
    回表:非聚簇索引-》主键-》聚簇索引
    不使用二叉树，B树，是因为高度要少，减少io。
	
//5.说说你们redis的使用场景，说说redis持久化的使用场景？（你们redis用的什么模式）
	huancun
//6.redis你们用了哪几种数据结构？使用场景？跳表知道吗？
	string
//7.kafka消息堆积处理方案？kafka常见问题？
	chongfuxiaofeichuli
//8.讲讲https
	anquanjizhi
//9.springSecurity权限划分底层是怎么做的？
	zijixielegezhujie
//10.redis分布式锁你们用过吗？实现方式、
	yongguo



```













































































